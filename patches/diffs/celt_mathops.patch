--- a/celt/mathops.h
+++ b/celt/mathops.h
@@ -43,6 +43,8 @@

 #if defined(OPUS_ARM_MAY_HAVE_NEON_INTR)
 #include "arm/mathops_arm.h"
+#elif defined(OPUS_XTENSA_LX7)
+#include "xtensa/mathops_lx7.h"
 #endif

 #define PI 3.1415926535897931
@@ -222,11 +224,15 @@

 #ifndef FIXED_POINT

+#ifndef OVERRIDE_CELT_SQRT
 #define celt_sqrt(x) ((float)sqrt(x))
+#endif
 #define celt_sqrt32(x) ((float)sqrt(x))
 #define celt_rsqrt(x) (1.f/celt_sqrt(x))
 #define celt_rsqrt_norm(x) (celt_rsqrt(x))
 #define celt_rsqrt_norm32(x) (celt_rsqrt(x))
+#ifndef OVERRIDE_CELT_COS_NORM
 #define celt_cos_norm(x) ((float)cos((.5f*PI)*(x)))
+#endif
 #define celt_rcp(x) (1.f/(x))
 #define celt_div(a,b) ((a)/(b))
 #define frac_div32(a,b) ((float)(a)/(b))
