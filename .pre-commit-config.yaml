---
# See https://pre-commit.com for more information

repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
      - id: end-of-file-fixer
        exclude: ^lib/
      - id: trailing-whitespace
        exclude: ^lib/

  - repo: https://github.com/pre-commit/mirrors-clang-format
    rev: v18.1.8
    hooks:
      - id: clang-format
        types_or: [c, c++]
        # Only format our own code, not submodules or staged/build directories
        files: ^(src/|include/|examples/.*/src/|host_examples/opus_to_wav/|patches/)
        exclude: (build/|\.pio/|opus-staged/)

  - repo: https://github.com/igorshubovych/markdownlint-cli
    rev: v0.42.0
    hooks:
      - id: markdownlint-fix
        # Only check our own markdown files
        exclude: ^lib/
